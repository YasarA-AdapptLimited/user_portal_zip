<ng-template #content>
  <div class="">
    <h2 class="spacer" style="margin-bottom: 0px !important">
      Previous applications and registrations with other bodies
    </h2>
  </div>
  <section class="criteria-for-registration">
    <form>
      <div class="row">
        <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12">

          <div class="important">
            <p>
              Tell us about any:
            </p>
            <p>
              <li>previous pharmacy pre-registration training applications</li>
              <li>current or previous registrations with other healthcare bodies</li>
            </p>
            <p>so that we can verify that you are fit to practise as a pharmacy professional. We may contact the
              regulatory body
              for more information.
            </p>
            <p>
              <b>Important</b>: If you have completed a reduced work experience requirement, you <b>must</b>
              fill in this section
            </p>
          </div>


          <section class="other-bodies-section">
            <h3>Previous training applications</h3>
            <div id="first-question">

              <div class="form-group" [class.error]="touched && initialQuestion.invalid">
                <label for="">
                  Have you previously applied for registration with the Royal Pharmaceutical Society of Great Britain
                  (RPSGB)
                  or
                  the General Pharmaceutical Council (GPhC),
                  as either a pharmacy technician or a pharmacist ?
                </label>
                <mat-radio-group name="q1" [(ngModel)]="application.activeForm.
                previousApplicationsAndRegistrations.
                applications.registration.applied" required (ngModelChange)="update()" #initialQuestion="ngModel">
                  <mat-radio-button [value]="true" name="Yes" type="radio">
                    Yes
                  </mat-radio-button>
                  <mat-radio-button [value]="false" name="No" type="radio">
                    No
                  </mat-radio-button>
                </mat-radio-group>
              </div>
              <app-collapsible [trigger]="application.activeForm.
              previousApplicationsAndRegistrations.
              applications.registration.applied">
                <div class="details ml-3">
                  <div class="row mt-2">
                    <div class="col-md-12">
                      <h4>Details</h4>
                      <div class="form-group" [class.invalid]="(touched || appType.touched) && appType.invalid">
                        <label>Application type</label>
                        <mat-radio-group name="applicationType" [(ngModel)]="application.activeForm.
                              previousApplicationsAndRegistrations.
                              applications.registration.type" (ngModelChange)="update()" #appType="ngModel"
                          class="ml-4" required>
                          <mat-radio-button [value]="PreviousRegistrationType.Pharmacist">Pharmacist
                          </mat-radio-button>
                          <mat-radio-button [value]="PreviousRegistrationType.PharmacyTechnician">Pharmacy Technician
                          </mat-radio-button>
                        </mat-radio-group>
                      </div>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-xl-4">
                      <div class="form-group" [class.error]="application.activeForm.
                      previousApplicationsAndRegistrations.
                      applications.registration.registrationNumber && application.activeForm.
                      previousApplicationsAndRegistrations.
                      applications.registration.registrationNumber.length > 15">
                        <label>Registration number (if known)</label>
                        <input type="text" class="form-control" name="regNumber" [(ngModel)]="application.activeForm.
                              previousApplicationsAndRegistrations.
                              applications.registration.registrationNumber" (ngModelChange)="update()"
                          ngModel #regNumber="ngModel" ngModel maxlength="20" />
                      </div>
                      <app-collapsible [trigger]="application.activeForm.
                            previousApplicationsAndRegistrations.
                            applications.registration.registrationNumber && application.activeForm.
                            previousApplicationsAndRegistrations.
                            applications.registration.registrationNumber.length > 15">
                        <div class="error" style="font-weight: bold;">
                          <p class="mt-2">
                            Registration number cannot be greater than 15 characters.
                          </p>
                        </div>
                      </app-collapsible>
                    </div>
                    <div class="col-xl-4">
                      <div class="form-group">
                        <label>Date of application (if known)</label>
                        <app-utc-date-picker #firstDatePicker [(ngModel)]="application.activeForm.
                              previousApplicationsAndRegistrations.
                              applications.registration.applicationDate" [whiteBackground]="true" [width]="'100%'"
                          name="applicationDate">
                        </app-utc-date-picker>
                      </div>
                    </div>
                  </div>
                </div>
              </app-collapsible>
            </div>

            <div id="second-question">
              <div class="mt-3" [class.error]="touched && secondQuestion.invalid">
                <label style="display: block;">
                  Have you previously undertaken pre registration training as a pharmacist with the RPSGB or the GPhC ?
                </label>

                <mat-radio-group aria-label="Yes or no selection" name="Q3b" name="q2" [(ngModel)]="application.activeForm.
                previousApplicationsAndRegistrations.
                applications.preRegistrationTraining.undertaken" required (ngModelChange)="update()"
                  #secondQuestion="ngModel" required>
                  <mat-radio-button [value]="true" name="Yes" type="radio">
                    Yes
                  </mat-radio-button>
                  <mat-radio-button [value]="false" name="No" type="radio">
                    No
                  </mat-radio-button>
                </mat-radio-group>
              </div>
              <app-collapsible [trigger]="application.activeForm.
              previousApplicationsAndRegistrations.
              applications.preRegistrationTraining.undertaken">
                <div class="ml-3">
                  <div class="row">
                    <div class="col-md-12">
                      <h4>Details</h4>
                    </div>
                    <div class="col-xl-4">
                      <div class="form-group" [class.error]="application.activeForm.previousApplicationsAndRegistrations.applications.preRegistrationTraining.preRegistrationNumber 
                      && application.activeForm.previousApplicationsAndRegistrations.applications.preRegistrationTraining.preRegistrationNumber.length > 15">
                        <label for="regNumberOne">
                          PreReg Number (if known)
                        </label>
                        <input class="form-control" type="text" name="prereg"
                          [(ngModel)]="application.activeForm.previousApplicationsAndRegistrations.applications.preRegistrationTraining.preRegistrationNumber"
                          (ngModelChange)="update()" #prereg="ngModel" ngModel maxlength="20" id="regNumberOne">
                      </div>
                      <app-collapsible
                        [trigger]="application.activeForm.previousApplicationsAndRegistrations.applications.preRegistrationTraining.preRegistrationNumber 
                        && application.activeForm.previousApplicationsAndRegistrations.applications.preRegistrationTraining.preRegistrationNumber.length > 15">
                        <div class="error" style="font-weight: bold;">
                          <p class="mt-2">
                            Pre-registration number cannot be greater than 15 characters.
                          </p>
                        </div>
                      </app-collapsible>
                    </div>
                    <div class="col-xl-4">
                      <div class="form-group">
                        <label for="dateOfApplication">
                          Date of application (if known)
                        </label>
                        <app-utc-date-picker name="someDate" #secondDatePicker
                          [(ngModel)]="application.activeForm.previousApplicationsAndRegistrations.applications.preRegistrationTraining.startDate"
                          [whiteBackground]="true" [width]="'100%'">
                        </app-utc-date-picker>
                      </div>
                    </div>
                  </div>
                </div>
              </app-collapsible>
            </div>
          </section>

          <section class="current-registration">
            <h3>Registration with other bodies</h3>
            <div id="third-question">
              <div [class.error]="touched && hasRegisteredPreviously.invalid">
                <p style="font-weight: bold;">
                  Are you currently or have you previously been registered with any UK statutory health regulatory body
                  (any member
                  body of the Professional Standards Authority) ?
                </p>
                <mat-radio-group aria-label="Yes or no selection" name="Q3c" [(ngModel)]="application.activeForm.
                previousApplicationsAndRegistrations
                .ukRegistration.registered" (ngModelChange)="update()" #hasRegisteredPreviously="ngModel" required>
                  <mat-radio-button [value]="true" name="Yes" type="radio">
                    Yes
                  </mat-radio-button>
                  <mat-radio-button [value]="false" name="No" type="radio">
                    No
                  </mat-radio-button>
                </mat-radio-group>
              </div>
              <app-collapsible [trigger]="application.activeForm.
              previousApplicationsAndRegistrations
              .ukRegistration.registered">

                <div class="ml-3 mb-5">
                  <div class="row">
                    <div class="col-md-12">
                      <h4>Details</h4>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-xl-4 col-md-6 col-sm-6">
                      <div class="form-group" [class.error]="application.activeForm.previousApplicationsAndRegistrations.ukRegistration.registrationNumber 
                      && application.activeForm.previousApplicationsAndRegistrations.ukRegistration.registrationNumber.length > 15">
                        <label for="regNumberTwo">
                          Registration number (if known)
                        </label>
                        <input class="form-control" name="firstRegNumber"
                          [(ngModel)]="application.activeForm.previousApplicationsAndRegistrations.ukRegistration.registrationNumber"
                          (ngModelChange)="update()" #regNumberVal="ngModel" type="text" matInput maxlength="20" id="regNumberTwo">
                       
                      </div>
                      <app-collapsible
                        [trigger]="application.activeForm.previousApplicationsAndRegistrations.ukRegistration.registrationNumber 
                        && application.activeForm.previousApplicationsAndRegistrations.ukRegistration.registrationNumber.length > 15">
                        <div class="error" style="font-weight: bold;">
                          <p class="mt-2">
                            Registration number cannot be greater than 15 characters.
                          </p>
                        </div>
                      </app-collapsible>
                    </div>
                    <div class="col-xl-4 col-md-6 col-sm-6">
                      <div class="form-group"
                        [class.invalid]="(touched || firstnameOfBody.touched) && firstnameOfBody.invalid">
                        <label for="dateOfApplication">
                          Name of body
                        </label>

                        <input class="form-control" name="firstNameOfBody"
                          [(ngModel)]="application.activeForm.previousApplicationsAndRegistrations.ukRegistration.nameOfBody"
                          (ngModelChange)="update()" #firstnameOfBody="ngModel" required type="text" matInput>

                      </div>
                    </div>
                  </div>



                  <div class="row">
                    <div class="col-xl-10 col-md-12 col-sm-12">
                      <div [class.error]="(touched || wasCertificateReq.touched) && wasCertificateReq.invalid">
                        <mat-checkbox required name="firstWasCertificationSigned"
                          [(ngModel)]="application.activeForm.previousApplicationsAndRegistrations.ukRegistration.wasCertificateRequested"
                          (ngModelChange)="update()" #wasCertificateReq="ngModel" class="ml-2" name="somethingGood">
                          I confirm that I have or will arrange for a certificate of current professional status to be
                          sent from this organisation to the GPhC
                        </mat-checkbox>
                      </div>

                    </div>
                  </div>


                </div>
              </app-collapsible>

            </div>

            <div class="fourth-question">
              <div [class.error]="touched && hasRegisteredWithExternally.invalid">
                <p style="font-weight: bold;">
                  Are you currently or have you previously been registered with a health regulatory body outside the UK
                  ?
                </p>
                <mat-radio-group aria-label="Yes or no selection" required name="question4" [(ngModel)]="application.activeForm.
                  previousApplicationsAndRegistrations
                  .outsideUKRegistration.registered" (ngModelChange)="update()" #hasRegisteredWithExternally="ngModel">
                  <mat-radio-button [value]="true" name="Yes" type="radio">
                    Yes
                  </mat-radio-button>
                  <mat-radio-button [value]="false" name="No" type="radio">
                    No
                  </mat-radio-button>
                </mat-radio-group>
              </div>
              <app-collapsible [trigger]="application.activeForm.
              previousApplicationsAndRegistrations
              .outsideUKRegistration.registered">
                <div class="ml-3">

                  <div class="row">
                    <div class="col-md-12">
                      <h4>Details</h4>
                    </div>
                  </div>

                  <div class="row">
                    <div class="col-xl-4 col-md-6 col-sm-6">
                      <div class="form-group" [class.error]="application.activeForm.previousApplicationsAndRegistrations.outsideUKRegistration.registrationNumber 
                      && application.activeForm.previousApplicationsAndRegistrations.outsideUKRegistration.registrationNumber.length > 15">
                        <label for="regNumberThree">
                          Registration number (if known)
                        </label>
                        <input class="form-control" type="text" name="secondRegNumber" matInput
                          [(ngModel)]="application.activeForm.previousApplicationsAndRegistrations.outsideUKRegistration.registrationNumber"
                          (ngModelChange)="update()" maxlength="20" #regNum="ngModel" ngModel id="regNumberThree">
                      </div>
                      <app-collapsible
                      [trigger]="application.activeForm.previousApplicationsAndRegistrations.outsideUKRegistration.registrationNumber 
                      && application.activeForm.previousApplicationsAndRegistrations.outsideUKRegistration.registrationNumber.length > 15">
                      <div class="error" style="font-weight: bold;">
                        <p class="mt-2">
                          Registration number cannot be greater than 15 characters.
                        </p>
                      </div>
                    </app-collapsible>
                    </div>
                    <div class="col-xl-4 col-md-6 col-sm-6">
                      <div class="form-group" [class.invalid]="(touched || nameOfBody.touched) && nameOfBody.invalid">

                        <label for="dateOfApplication">
                          Name of body
                        </label>
                        <input class="form-control" type="text" name="nameOfBody"
                          [(ngModel)]="application.activeForm.previousApplicationsAndRegistrations.outsideUKRegistration.nameOfBody"
                          (ngModelChange)="update()" #nameOfBody="ngModel" matInput required>

                      </div>
                    </div>
                  </div>

                  <div class="row">
                    <div class="col-xl-10 col-md-12 col-sm-12">

                      <div [class.error]="(touched || certificateRequested.touched) && certificateRequested.invalid">
                        <mat-checkbox name="secondWasCertificationSigned"
                          [(ngModel)]="application.activeForm.previousApplicationsAndRegistrations.outsideUKRegistration.wasCertificateRequested"
                          (ngModelChange)="update()" #certificateRequested="ngModel" matInput required>
                          I confirm that I have or will arrange for a certificate of current professional status to be
                          sent from this organisation to the GPhC
                        </mat-checkbox>
                      </div>

                    </div>
                  </div>

                </div>
              </app-collapsible>
            </div>
          </section>

        </div>
      </div>
    </form>
  </section>
</ng-template>